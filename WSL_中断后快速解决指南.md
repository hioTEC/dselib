# WSLå®‰è£…ä¸­æ–­å403é”™è¯¯å¿«é€Ÿè§£å†³æŒ‡å—

## ğŸš¨ ä½ çš„æƒ…å†µåˆ†æ

ä½ é‡åˆ°çš„é—®é¢˜æ˜¯ï¼š**ç½‘ç»œæ³¢åŠ¨å¯¼è‡´WSLå®‰è£…ä¸­æ–­ï¼Œé‡æ–°å®‰è£…æ—¶å‡ºç°403é”™è¯¯**

è¿™æ˜¯å…¸å‹çš„"å®‰è£…ä¸­æ–­åç³»ç»ŸçŠ¶æ€ä¸ä¸€è‡´"é—®é¢˜ï¼Œä¹‹å‰çš„å®‰è£…å¯èƒ½åœ¨ä¸‹è½½æˆ–é…ç½®è¿‡ç¨‹ä¸­æ–­ï¼Œå¯¼è‡´ç³»ç»Ÿè®°å½•äº†ä¸å®Œæ•´çš„å®‰è£…çŠ¶æ€ã€‚

## âš¡ ç«‹å³è§£å†³æ–¹æ¡ˆï¼ˆæ¨èï¼‰

### æ–¹æ¡ˆä¸€ï¼šä¸€é”®æ¸…ç†è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰
```powershell
# 1. ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell
# 2. æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
.\wsl_cleanup_interrupted.ps1
```
**æ‰§è¡ŒåæŒ‰æç¤ºé‡å¯è®¡ç®—æœºï¼Œç„¶åé‡æ–°å®‰è£…**

### æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨æ¸…ç†æ­¥éª¤
```powershell
# æ­¥éª¤1ï¼šåœæ­¢æ‰€æœ‰WSLæœåŠ¡
wsl --shutdown
taskkill /f /im wslservice.exe 2>$null

# æ­¥éª¤2ï¼šæ¸…ç†æ‰€æœ‰å‘è¡Œç‰ˆ
wsl --unregister Ubuntu 2>$null
wsl --unregister Ubuntu-22.04 2>$null

# æ­¥éª¤3ï¼šé‡ç½®Microsoft Storeç¼“å­˜
wsreset -i

# æ­¥éª¤4ï¼šé‡æ–°å¯ç”¨åŠŸèƒ½
dism.exe /online /disable-feature /featurename:Microsoft-Windows-Subsystem-Linux /norestart
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

# æ­¥éª¤5ï¼šé‡å¯è®¡ç®—æœºï¼ˆå¿…é¡»ï¼ï¼‰
```

## ğŸ”„ é‡å¯åçš„æ“ä½œ

é‡å¯è®¡ç®—æœºåï¼š
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€PowerShellï¼Œè¿è¡Œï¼š
wsl --install -d Ubuntu-22.04
```

## ğŸ†˜ å¦‚æœä»ç„¶403é”™è¯¯

### å¤‡ç”¨æ–¹æ¡ˆAï¼šç‰¹å®šå‘è¡Œç‰ˆ
```powershell
# å°è¯•å®‰è£…Debian
wsl --install -d Debian
```

### å¤‡ç”¨æ–¹æ¡ˆBï¼šæ‰‹åŠ¨ä¸‹è½½
1. ä¸‹è½½[WSL2å†…æ ¸æ›´æ–°åŒ…](https://aka.ms/wsl2kernel)
2. ä¸‹è½½[Ubuntu 22.04](https://www.microsoft.com/store/p/ubuntu-2204-lts/9PN20NRR02Q8)
3. å…ˆå®‰è£…å†…æ ¸ï¼Œå†å®‰è£…Ubuntu

### å¤‡ç”¨æ–¹æ¡ˆCï¼šä½¿ç”¨winget
```powershell
winget install -e --id Canonical.Ubuntu.2204LTS
```

## ğŸ“‹ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜

1. **å®‰è£…è¿‡ç¨‹ä¸­æ–­**ï¼šç½‘ç»œæ³¢åŠ¨å¯¼è‡´ä¸‹è½½æˆ–é…ç½®ä¸­æ–­
2. **çŠ¶æ€ä¸ä¸€è‡´**ï¼šç³»ç»Ÿè®°å½•äº†éƒ¨åˆ†å®‰è£…ä¿¡æ¯ï¼Œä½†æ–‡ä»¶ä¸å®Œæ•´
3. **ç¼“å­˜å†²çª**ï¼šMicrosoft Storeç¼“å­˜äº†é”™è¯¯çš„çŠ¶æ€ä¿¡æ¯
4. **åŠŸèƒ½çŠ¶æ€å¼‚å¸¸**ï¼šWindowsåŠŸèƒ½å¯èƒ½å¤„äºå¯ç”¨ä½†ä¸å®Œæ•´çš„çŠ¶æ€

## ğŸ’¡ é¢„é˜²æªæ–½

- ç¡®ä¿ç½‘ç»œç¨³å®šåå†å®‰è£…
- é¿å…åœ¨å®‰è£…è¿‡ç¨‹ä¸­åˆ‡æ¢ç½‘ç»œ
- ä½¿ç”¨ç¨³å®šçš„ç½‘ç»œè¿æ¥
- å¦‚æœéœ€è¦ä¸­æ–­ï¼Œç­‰å¾…å®Œæ•´ç»“æŸ

## âœ… éªŒè¯æˆåŠŸ

å®‰è£…å®ŒæˆåéªŒè¯ï¼š
```powershell
wsl --status
wsl --list --verbose
wsl --exec uname -a
```

---
**è®°ä½ï¼šä¸­æ–­åçš„å®‰è£…å¿…é¡»å…ˆå®Œå…¨æ¸…ç†æ‰èƒ½é‡æ–°å¼€å§‹ï¼**
